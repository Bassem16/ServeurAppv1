<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Espace Administrateur</title>
</h:head>

<h:body>Vous etes connecté en tant que #{connexionBean.prenomPersonne} #{connexionBean.nomPersonne}

		<h4>Les demandes</h4>
	<h:dataTable value="#{gestionAdministrateurBean.demandes}" var="d"
		styleClass="order-table" headerClass="order-table-header"
		rowClasses="order-table-odd-row,order-table-eve-row">
		<h:column>
			<f:facet name="header">Nom du demandeur</f:facet>
			<h:outputText value="#{d.personne.nomPersonne}" />
		</h:column>

		<h:column>
			<f:facet name="header">Prénom du Titualire</f:facet>
			<h:outputText value="#{d.personne.prenomPersonne}" />
		</h:column>

		<h:column>
			<f:facet name="header">id demande</f:facet>
			<h:outputText value="#{d.idDemande}" />
		</h:column>

		<h:column>
			<f:facet name="header">Descriptif demande</f:facet>
			<h:outputText value="#{d.descriptifDemande}" />
		</h:column>

		<h:column>
			<f:facet name="header">Statut demande </f:facet>
			<h:outputText value="#{d.statutDemande}" />
		</h:column>

		<h:column>
			<f:facet name="header">Valider connexion </f:facet>
			<h:commandButton value="Accepter"
				action="#{gestionAdministrateurBean.validerDemandePersonne(d)}">
			</h:commandButton>
			<h:commandButton value="Refuser"
				action="#{gestionAdministrateurBean.supprimerDemandePersonne(d)}">
			</h:commandButton>
		</h:column>

	</h:dataTable>

	<h4>Les demandes traitées</h4>
	<h:dataTable value="#{gestionAdministrateurBean.demandesHistorique}"
		var="dh" styleClass="order-table" headerClass="order-table-header"
		rowClasses="order-table-odd-row,order-table-eve-row">
		<h:column>
			<f:facet name="header">Nom du demandeur</f:facet>
			<h:outputText value="#{dh.personne.nomPersonne}" />
		</h:column>

		<h:column>
			<f:facet name="header">Prénom du Titualire</f:facet>
			<h:outputText value="#{dh.personne.prenomPersonne}" />
		</h:column>

		<h:column>
			<f:facet name="header">id demande</f:facet>
			<h:outputText value="#{dh.idDemandeHistorique}" />
		</h:column>

		<h:column>
			<f:facet name="header">Descriptif demande</f:facet>
			<h:outputText value="#{dh.descriptifDemandeHistorique}" />
		</h:column>

		<h:column>
			<f:facet name="header">Statut demande </f:facet>
			<h:outputText value="#{dh.statutDemandeHistorique}" />
		</h:column>


	</h:dataTable>
	<h:commandButton value="Deconnexion" action="#{connexionBean.doLogout}"></h:commandButton>

</h:body>

</html>
