<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Espace Administrateur</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<h:outputScript library="default" name="javascript/jquery.min.js" />
	<h:outputScript library="default"
		name="javascript/jquery.dropotron.min.js" />
	<h:outputScript library="default"
		name="javascript/jquery.scrollgress.min.js" />
	<h:outputScript library="default" name="javascript/skel.min.js" />
	<h:outputScript library="default" name="javascript/skel-layers.min.js" />
	<h:outputScript library="default" name="javascript/init.js" />
	<noscript>
		<h:outputStylesheet library="default" name="css/skel.css" />
		<h:outputStylesheet library="default" name="css/style.css" />
		<h:outputStylesheet library="default" name="css/style-wide.css" />
	</noscript>
</h:head>

<h:body>
<!-- Header -->
	<header id="header" class="skel-layers-fixed">
	<h1>
		<a href="../index.xhtml">Team Trade</a> par The Team
	</h1>
	<nav id="nav">
	<ul>
	<li>connecté en tant que #{connexionBean.prenomPersonne} #{connexionBean.nomPersonne}</li>
		<li><a href="../index.xhtml">Accueil</a></li>
		<li><a href="" class="icon fa-angle-down">Administrateur</a>
			<ul>
				<li><h:link value="Gérer Membre"
					outcome="/Administrateur/modifierMembre.xhtml" /></li>
				<li><h:link value="Gérer Société"
					outcome="/Administrateur/modifierEntreprise.xhtml" /></li>
				<li><h:link value="Gérer Membre Société"
					outcome="/Administrateur/modifierMembreSociete.xhtml" /></li>
				<li><h:link value="Accueil Investisseur"
					outcome="/Investisseur/home.xhtml" /></li>
			</ul></li>
		<li>
			<c:if test="#{connexionBean.connected}">
	    		<h:form><h:commandButton value="Deconnexion" action="#{connexionBean.doLogout}" class="button"></h:commandButton></h:form>
	    	</c:if>
    	</li>
	</ul>
	</nav> 
	</header>
	

<!-- Main -->
	<section id="main" class="container">
		<header>
			<h2>Modification des données d'un membre société</h2>
			<p>Veuillez remplir le formulaire ci-dessous afin d'ajouter un nouveau memebre société.</p>
		</header>

		<div class="row">
			<div class="12u">
				<section class="box">
	<h:form id="formulaire">
		<fieldset>
			<legend>Inscription</legend>
			<h:outputLabel for="email">Adresse email <span
					class="requis">*</span>
			</h:outputLabel>
			<h:inputText id="email" value="#{gestionAdministrateurBean.emailEntreprise}">

				<f:ajax event="blur" render="emailMessage" />
				<f:validator binding="#{existenceEmailValidator}" />
			</h:inputText>
			<h:message id="emailMessage" for="email" />
			<br />

			<h:outputLabel for="motdepasse">Mot de passe <span
					class="requis">*</span>
			</h:outputLabel>
			<h:inputSecret id="motdepasse" value="#{gestionAdministrateurBean.motDePasseEntreprise}"
				binding="#{composantMotDePasse}" required="true"
				requiredMessage="mot de passe requis"
				validatorMessage="6 caracteres minimum" size="20" maxlength="20">
				<f:validateLength minimum="6" maximum="50" />
				<f:ajax event="blur" execute="motdepasse confirmation"
					render="motDePasseMessage confirmationMessage" />
			</h:inputSecret>
			<h:message id="motDePasseMessage" for="motdepasse" />
			<br />



			<h:outputLabel for="confirmation">Confirmation du mot de passe <span
					class="requis">*</span>
			</h:outputLabel>
			<h:inputSecret id="confirmation"
				value="#{gestionAdministrateurBean.motDePasseEntreprise}" required="true"
				requiredMessage="confirmation requise" size="20" maxlength="20">
				<f:validator validatorId="confirmationMotDePasseValidator" />
				<f:attribute name="composantMotDePasse"
					value="#{composantMotDePasse}" />
				<f:ajax event="blur" execute="motdepasse confirmation"
					render="motDePasseMessage confirmationMessage" />
			</h:inputSecret>
			<h:message id="confirmationMessage" for="confirmation" />
			<br />

			<h:outputLabel for="login">Login <span class="requis">*</span>
			</h:outputLabel>
			<h:inputText id="login" value="#{gestionAdministrateurBean.loginEntreprise}"
				required="true" requiredMessage="login requis"
				validatorMessage="4 caracteres minimum" size="20" maxlength="20">

				<h:message for="login" />
				<f:ajax event="blur" render="loginMessage" />
				<f:validator binding="#{existenceLoginValidator}" />
			</h:inputText>
			<h:message id="loginMessage" for="login" />
			<br />



			<h:outputLabel for="prenom">Prenom<span
					class="requis">*</span>
			</h:outputLabel>
			<h:inputText id="prenom" value="#{gestionAdministrateurBean.prenomPersonneEntreprise}"
				required="true" requiredMessage="prenom requis" size="20"
				maxlength="20">
				<f:ajax event="blur" render="prenomMessage" />
			</h:inputText>
			<h:message id="prenomMessage" for="prenom" errorClass="erreur" />
			<br />

			<h:outputLabel for="nom">Nom<span class="requis">*</span>
			</h:outputLabel>
			<h:inputText id="nom" value="#{gestionAdministrateurBean.nomPersonneEntreprise}"
				required="true" requiredMessage="nom requis" size="20"
				maxlength="20">
				<f:ajax event="blur" render="nomMessage" />
			</h:inputText>
			<h:message id="nomMessage" for="nom" />
			<br />
			
			<h:outputLabel for="nom">Entreprise<span class="requis">*</span>
			</h:outputLabel>
			<h:selectOneMenu value="#{gestionAdministrateurBean.entreprise.nomEntreprise}">
				<f:selectItems value="#{gestionAdministrateurBean.entreprises}"
					var="e" itemLabel="#{e.nomEntreprise}"
					itemValue="#{e.nomEntreprise}" />
			</h:selectOneMenu>
		
			<br />

			<h:commandButton id="submit" value="Valider" action="#{gestionAdministrateurBean.ajouterMembreEntreprise()}">
			</h:commandButton>
			<br />
		</fieldset>
	</h:form>
						</section>
			</div>
		</div>
	
			<div class="row">
			<div class="12u">
				<section class="box">
	<h:form>

	<h4>Les société</h4>
	<h:dataTable value="#{gestionAdministrateurBean.membresSociete}" var="ms"
		styleClass="order-table" headerClass="order-table-header"
		rowClasses="order-table-odd-row,order-table-eve-row">
		<h:column>
			<f:facet name="header">Nom de la personne</f:facet>
			<h:outputText value="#{ms.nomPersonne}" />
		</h:column>

		<h:column>
			<f:facet name="header">Prenom de la personne</f:facet>
			<h:outputText value="#{ms.prenomPersonne}" />
		</h:column>

		<h:column>
			<f:facet name="header">Nom de l'entreprise</f:facet>
			<h:outputText value="#{ms.entreprise.nomEntreprise}" />
		</h:column>

	</h:dataTable>

</h:form>
					</section>
			</div>
		</div>
		</section>
		
		
<!-- Footer --> 
	<footer id="footer">
	<ul class="icons">
		<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
		<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
		<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
		<li><a href="#" class="icon fa-github"><span class="label">Github</span></a></li>
		<li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
		<li><a href="#" class="icon fa-google-plus"><span
				class="label">Google+</span></a></li>
	</ul>
	<ul class="copyright">
		<li>&copy; Team Trade. All rights reserved.</li>
		<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
	</ul>
	</footer>
	
</h:body>

</html>